(self.webpackJsonp=self.webpackJsonp||[]).push([["manifests/home"],{"../caches/app/node_modules/@shopify/monorail/lib/middleware/producer-middleware.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.producer=e}return e.prototype.do=function(e,t,i){return this.producer.produce(e,t)},e}();t.ProducerMiddleware=n},"../caches/app/node_modules/@shopify/monorail/lib/middleware/retry-middleware.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("../caches/app/node_modules/tslib/tslib.es6.js"),o=i("../caches/app/node_modules/@shopify/monorail/lib/producers/producer-errors.js"),s=function(){function e(e,t){void 0===e&&(e=3),void 0===t&&(t=150),this.maxRetries=e,this.delayMs=t}return e.prototype.do=function(e,t,i){return n.__awaiter(this,void 0,void 0,(function(){var s,r,a,d,l;return n.__generator(this,(function(n){switch(n.label){case 0:s=0,n.label=1;case 1:if(!(s<this.maxRetries))return[3,7];a=void 0,n.label=2;case 2:return n.trys.push([2,4,,6]),[4,i(e,t)];case 3:return a=n.sent(),[3,6];case 4:if(d=n.sent(),r=r||new Error,r=new Error(r.message+" Retry count:"+(s+1)+" Error msg:"+d.message+"\n"),d instanceof o.MonorailUnableToProduceError&&(l=d.response.status)&&l>=400&&l<500)throw d;return[4,this.delay(this.delayMs*Math.pow(2,s))];case 5:return n.sent(),s++,[3,1];case 6:return[2,a];case 7:throw r?r.message="Retry count of "+this.maxRetries+" exceeded. Failed with error: \n"+r.message+" Aborting request for "+JSON.stringify(e):r=new Error,new o.MonorailRetriesExceededError(r)}}))}))},e.prototype.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},e}();t.RetryMiddleware=s},"../caches/app/node_modules/@shopify/monorail/lib/monorail.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("../caches/app/node_modules/@shopify/monorail/lib/producers/monorail-edge-producer.js");t.Monorail=n.Monorail;var o=i("../caches/app/node_modules/@shopify/monorail/lib/producers/producer-errors.js");t.MonorailRequestError=o.MonorailRequestError,t.MonorailUnableToProduceError=o.MonorailUnableToProduceError,t.MonorailRetriesExceededError=o.MonorailRetriesExceededError;var s=i("../caches/app/node_modules/@shopify/monorail/lib/middleware/retry-middleware.js");t.RetryMiddleware=s.RetryMiddleware},"../caches/app/node_modules/@shopify/monorail/lib/producers/http-producer.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("../caches/app/node_modules/tslib/tslib.es6.js"),o=i("../caches/app/node_modules/uuid/index.js"),s=i("../caches/app/node_modules/@shopify/monorail/lib/producers/producer-errors.js"),r=function(){function e(t){void 0===t&&(t=e.DEVELOPMENT_ENDPOINT),this.edgeEndpoint=t}return e.getHeadersFromMetadata=function(e){var t={"Content-Type":"application/json; charset=utf-8","X-Monorail-Edge-Event-Created-At-Ms":(e&&e.edgeEventCreatedAtMs||Date.now()).toString(),"X-Monorail-Edge-Event-Sent-At-Ms":Date.now().toString(),"X-Monorail-Edge-Client-Message-Id":(e&&e.edgeClientMessageId||o.v4()).toString()};return e&&e.edgeUserAgent&&(t["User-Agent"]=e.edgeUserAgent),t},e.prototype.produce=function(t,i){return n.__awaiter(this,void 0,void 0,(function(){var o,r,a,d,l;return n.__generator(this,(function(n){switch(n.label){case 0:o=this.convertFieldsToUnderscoreCase(t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,fetch(this.edgeEndpoint,{method:"post",headers:e.getHeadersFromMetadata(i),body:JSON.stringify({schema_id:t.schemaId,payload:o})})];case 2:return r=n.sent(),[3,4];case 3:throw a=n.sent(),new s.MonorailRequestError(a);case 4:return r.ok?[3,6]:(d=s.MonorailUnableToProduceError.bind,l={status:r.status},[4,r.text()]);case 5:throw new(d.apply(s.MonorailUnableToProduceError,[void 0,(l.message=n.sent(),l)]));case 6:return[2,{status:r.status}]}}))}))},e.prototype.convertFieldsToUnderscoreCase=function(e){for(var t={},i=0,n=Object.keys(e.payload);i<n.length;i++){var o=n[i],s=e.payload[o];t[this.convertStringToUnderscoreCase(o)]=s}return t},e.prototype.convertStringToUnderscoreCase=function(e){return e.split(/(?=[A-Z])/).join("_").toLowerCase()},e.DEVELOPMENT_ENDPOINT="http://localhost:8082/v1/produce",e.PRODUCTION_ENDPOINT="https://monorail-edge.shopifysvc.com/v1/produce",e.PRODUCTION_CANADA_ENDPOINT="https://monorail-edge-ca.shopifycloud.com/v1/produce",e}();t.HttpProducer=r},"../caches/app/node_modules/@shopify/monorail/lib/producers/log-producer.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t){this.sendToConsole=t,t&&e.printWelcomeMessage(t)}return e.printWelcomeMessage=function(e){console.log("%cðŸ‘‹ from Monorail%c\n\nWe've noticed that you're"+(e?"":" not")+" running in debug mode. As such, we will "+(e?"produce":"not produce")+" Monorail events to the console. \n\nIf you want Monorail events to "+(e?"stop":"start")+" appearing here, %cset debugMode="+(!e).toString()+"%c, for the Monorail Log Producer in your code.","font-size: large;","font-size: normal;","font-weight: bold;","font-weight: normal;")},e.prototype.produce=function(e,t){return this.sendToConsole&&(console.log("Monorail event produced",e),console.log("Metadata produced",t)),new Promise((function(t){t(e)}))},e}();t.LogProducer=n},"../caches/app/node_modules/@shopify/monorail/lib/producers/monorail-edge-producer.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("../caches/app/node_modules/tslib/tslib.es6.js"),o=i("../caches/app/node_modules/@shopify/monorail/lib/producers/http-producer.js"),s=i("../caches/app/node_modules/@shopify/monorail/lib/producers/log-producer.js"),r=i("../caches/app/node_modules/@shopify/monorail/lib/middleware/producer-middleware.js"),a=i("../caches/app/node_modules/uuid/index.js"),d=function(){function e(t,i){this.producer=t,this.middleware=i,this.executeChain=e.buildMiddlewareChain(this.middleware.concat(new r.ProducerMiddleware(t)))}return e.createLogProducer=function(t){return new e(new s.LogProducer(t.debugMode),t.middleware||[])},e.createHttpProducerWithEndpoint=function(t,i){return void 0===i&&(i=[]),new e(new o.HttpProducer(t),i)},e.createHttpProducer=function(t){return new e(t.production?new o.HttpProducer(o.HttpProducer.PRODUCTION_ENDPOINT):new o.HttpProducer(o.HttpProducer.DEVELOPMENT_ENDPOINT),t.middleware||[])},e.buildMiddlewareChain=function(e,t){var i=this;return void 0===t&&(t=0),t===e.length?this.identityFn:function(n,o){return e[t].do(n,o,i.buildMiddlewareChain(e,t+1))}},e.prototype.produce=function(e,t){return this.executeChain(e,n.__assign({edgeEventCreatedAtMs:Date.now(),edgeClientMessageId:a.v4()},t))},e}();t.Monorail=d},"../caches/app/node_modules/@shopify/monorail/lib/producers/producer-errors.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("../caches/app/node_modules/tslib/tslib.es6.js"),o=function(e){function t(i){var n=e.call(this,"Error producing to the Monorail Edge. Response received: "+JSON.stringify(i))||this;return Object.setPrototypeOf(n,t.prototype),n.response=i,n}return n.__extends(t,e),t}(Error);t.MonorailUnableToProduceError=o;var s=function(e){function t(i){var n=e.call(this,"Error completing request. A network failure may have prevented the request from completing. Error: "+i)||this;return Object.setPrototypeOf(n,t.prototype),n}return n.__extends(t,e),t}(Error);t.MonorailRequestError=s;var r=function(e){function t(i){var n=e.call(this,""+i)||this;return Object.setPrototypeOf(n,t.prototype),n}return n.__extends(t,e),t}(Error);t.MonorailRetriesExceededError=r},"../caches/app/node_modules/uuid/index.js":function(e,t,i){var n=i("../caches/app/node_modules/uuid/v1.js"),o=i("../caches/app/node_modules/uuid/v4.js"),s=o;s.v1=n,s.v4=o,e.exports=s},"../caches/app/node_modules/uuid/lib/bytesToUuid.js":function(e,t){for(var i=[],n=0;n<256;++n)i[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,o=i;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},"../caches/app/node_modules/uuid/lib/rng-browser.js":function(e,t){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var n=new Uint8Array(16);e.exports=function(){return i(n),n}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},"../caches/app/node_modules/uuid/v1.js":function(e,t,i){var n,o,s=i("../caches/app/node_modules/uuid/lib/rng-browser.js"),r=i("../caches/app/node_modules/uuid/lib/bytesToUuid.js"),a=0,d=0;e.exports=function(e,t,i){var l=t&&i||0,c=t||[],u=(e=e||{}).node||n,p=void 0!==e.clockseq?e.clockseq:o;if(null==u||null==p){var h=s();null==u&&(u=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=o=16383&(h[6]<<8|h[7]))}var m=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:d+1,_=m-a+(f-d)/1e4;if(_<0&&void 0===e.clockseq&&(p=p+1&16383),(_<0||m>a)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=m,d=f,o=p;var v=(1e4*(268435455&(m+=122192928e5))+f)%4294967296;c[l++]=v>>>24&255,c[l++]=v>>>16&255,c[l++]=v>>>8&255,c[l++]=255&v;var w=m/4294967296*1e4&268435455;c[l++]=w>>>8&255,c[l++]=255&w,c[l++]=w>>>24&15|16,c[l++]=w>>>16&255,c[l++]=p>>>8|128,c[l++]=255&p;for(var g=0;g<6;++g)c[l+g]=u[g];return t||r(c)}},"../caches/app/node_modules/uuid/v4.js":function(e,t,i){var n=i("../caches/app/node_modules/uuid/lib/rng-browser.js"),o=i("../caches/app/node_modules/uuid/lib/bytesToUuid.js");e.exports=function(e,t,i){var s=t&&i||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||n)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var a=0;a<16;++a)t[s+a]=r[a];return t||o(r)}},"./app/javascript/components/interactive-map.js":function(e,t,i){"use strict";var n=i("../caches/app/node_modules/waypoints/src/entries/noframework.js"),o=i.n(n);const s="js-map-animation--active",r="interactive-map-enabled";class a{constructor(e,t){this.waypointContainer=t,this.mapContainer=e}init(){a.isWebGLAvailable()?(this.mapContainer.classList.add(r),this.bindWaypoint()):this.mapFallback()}mapFallback(){this.mapContainer.classList.remove(r);const e=this.mapContainer.querySelector(".map__globe-wrapper");return e.parentElement.removeChild(e),"object"==typeof this.mapApp?this.mapApp.destroy():null}bindWaypoint(){const e=new o.a({element:this.waypointContainer,offset:"100%",handler:t=>{"down"===t&&(this.handleWaypointTriggered(),e.disable())}})}handleMapError(e="an error occured fetching map data"){window.bugsnagClient.notify(e),this.mapFallback()}onMapAppLoad({default:e}){this.pauseButton=this.mapContainer.querySelector(".map__control--pause"),this.playButton=this.mapContainer.querySelector(".map__control--play");const t=this.mapContainer.querySelector("#Map");this.mapApp=new e(t,t.dataset.start,this.handleMapError.bind(this)),this.mapContainer.classList.add(s),this.pauseButton.addEventListener("click",this.pause.bind(this)),this.playButton.addEventListener("click",this.play.bind(this))}pause(){this.mapApp.pause().then((()=>{this.mapContainer.classList.remove(s),this.playButton.focus()})).catch((e=>window.bugsnagClient.notify(e)))}play(){this.mapApp.play().then((()=>{this.mapContainer.classList.add(s),this.pauseButton.focus()})).catch((e=>window.bugsnagClient.notify(e)))}handleWaypointTriggered(){Promise.all([i.e("vendors~map-app/MapApp"),i.e("map-app/MapApp")]).then(i.bind(null,"./app/javascript/map-app/MapApp.js")).then(this.onMapAppLoad.bind(this)).catch(this.handleMapError.bind(this))}static isWebGLAvailable(){try{const e=document.createElement("canvas");return Boolean(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch{return!1}}}t.a=a},"./app/javascript/components/storename-autogen-signup-smart-field.js":function(e,t,i){"use strict";var n=i("../caches/app/node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),o=(i("./app/javascript/application.js"),i("./app/javascript/modules/non-latin-locales.js")),s=i("./app/javascript/modules/storename-autogen-signup-modal-smart-field.js"),r=i("./app/javascript/templates/signup-modal.ejs"),a=i.n(r);!function(){const e=document.querySelectorAll(".js-open-signup",".marketing-input-button-pair__button");e.length&&Object(o.a)()&&new s.a(e,(()=>a()({signupHeader:n.i18n.t("signup.custom_header")?n.i18n.t("signup.custom_header"):n.i18n.t("signup.header")})),{modalActiveContainerClass:"signup-modal js-is-active",clickingOverlayClosesModal:!1})}()},"./app/javascript/components/ui-illustrations.js":function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i("../caches/app/node_modules/@shopify/marketing-assets/dist/javascripts/index.js");class o{constructor(e){this.$elem=e,this._handleVisiblityChange=this._handleVisiblityChange.bind(this),this._contentIsVisible()?this._init():this.observer=this._observeVisibility(this.$elem,this._handleVisiblityChange)}_contentIsVisible(){return this.$elem.offsetHeight>0}_handleVisiblityChange(e){e&&(this.observer.disconnect(),this._init())}_elemWidth(){return this.$elem.offsetWidth}_init(){this.originalWidth=parseInt(getComputedStyle(this.$elem).width,10),this.$elem.style.width="100%",this.$scalingElem=this._createScalingElem(),this._nestContentInScalingContainer(),this._onResize=Object(n.throttle)(this._updateTransform.bind(this),100,!0),this._onImageLoad=Object(n.throttle)(this._onImageLoad.bind(this),500,!0),this._updateTransform(),this._registerImages(),window.addEventListener("resize",this._onResize)}_registerImages(){this.$elem.querySelectorAll("img").forEach((e=>{e.addEventListener("load",this._onImageLoad)}))}_onImageLoad(){this._updatePlaceholderSize()}_nestContentInScalingContainer(){for(;this.$elem.hasChildNodes();)this.$scalingElem.appendChild(this.$elem.firstChild);this.$elem.append(this.$scalingElem),this.$elem.append(this._createPlaceholderElem())}_heightToWidthRatio(){return this.$scalingElem.offsetHeight/this.$scalingElem.offsetWidth*100}_createPlaceholderElem(){return this.$placeholderElem=document.createElement("div"),this.$placeholderElem.style.setProperty("height","0"),this._updatePlaceholderSize(),this.$placeholderElem}_createScalingElem(){const e=document.createElement("div");return e.style.setProperty("width",`${this.originalWidth}px`),e.style.setProperty("position","absolute"),e.style.transformOrigin="0 0",e}_containerSizeAsPercentageOfBase(){return this._elemWidth()/this.originalWidth}_updatePlaceholderSize(){this.$placeholderElem.style.setProperty("padding-bottom",`${this._heightToWidthRatio()}%`)}_updateTransform(){const e=this._containerSizeAsPercentageOfBase();this.$scalingElem.style.setProperty("transform",`scale(${e})`)}_observeVisibility(e,t){const i={root:document.documentElement},n=new IntersectionObserver((e=>{e.forEach((e=>{t(e.intersectionRatio>0)}))}),i);return n.observe(e),n}}const s="ui-illustration__component";class r{constructor(){this.illustrations=[],document.querySelectorAll(`.${s}`).forEach(this.addIllustration.bind(this))}addIllustration(e){this.illustrations.push(e),this._initTextScale(e),e.classList.add(`${s}--initialized`)}_initTextScale(e){return new o(e)}}},"./app/javascript/manifests/home.js":function(e,t,i){"use strict";i.r(t);var n=i("../caches/app/node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),o=i("./app/javascript/components/ui-illustrations.js"),s=i("./app/javascript/modules/wistia-modal/index.js"),r=i("./app/javascript/modules/transparent-nav.js"),a=i("./app/javascript/components/interactive-map.js"),d=(i("./app/javascript/components/storename-autogen-signup-smart-field.js"),i("./app/javascript/modules/signup/holdout-signup.js"));function l(){const e=document.querySelector(".js-announcement");e&&new n.Announcement(e),Object(r.a)(document.querySelector("#Hero")),document.querySelectorAll(".pillars-animation").forEach((e=>{new n.Video(e)})),document.querySelectorAll(".js-wistia-modal").forEach((e=>new s.a(e))),function(){const e=document.querySelector(".map-interactive"),t=document.querySelector(".map__container");new a.a(t,e).init()}(),Object(d.a)(),function(){const e=document.querySelector(".editions-banner--large"),t=document.getElementById("LargeBannerVideo"),i=document.getElementById("EditionsAnimationButton"),o=document.querySelector(".editions-banner__logo");let s=!1;if(!e)return!1;const r=()=>{t.paused?(t.play(),i.setAttribute("aria-pressed","false"),o.classList.add("js-animate"),s=!1):(t.pause(),i.setAttribute("aria-pressed","true"),o.classList.remove("js-animate"),s=!0)};new IntersectionObserver((r=>{r.forEach((r=>{if(r.isIntersecting){e.classList.add("js-in-view");if(!Object(n["prefersReducedMotion"])()&&!s){t.play();o.classList.add("js-animate");i.setAttribute("aria-pressed","false")}}else{t.pause();o.classList.remove("js-animate")}}))})).observe(e),i.addEventListener("click",r)}(),function(){const e=document.querySelector(".inbrochurebannerv2-exp-video"),t=document.querySelector(".inbrochurebannerv2-exp-video video");if(e){new n.Video(e);new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting||t.pause()}))})).observe(e)}}()}new o.a,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()},"./app/javascript/modules/signup/holdout-signup.js":function(e,t,i){"use strict";i.d(t,"a",(function(){return x}));i("../caches/app/node_modules/core-js/modules/es.array.includes.js"),i("../caches/app/node_modules/core-js/modules/web.dom-exception.stack.js");var n=i("../caches/app/node_modules/@shopify/monorail/lib/monorail.js");function o(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function s(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}const r="control";var a=new WeakSet,d=new WeakSet,l=new WeakSet,c=new WeakSet,u=new WeakSet,p=new WeakSet;class h{constructor(e,t){var i,n,r,h,f,_,w,g;o(this,p),o(this,u),o(this,c),o(this,l),o(this,d),o(this,a),this.experimentId=s(this,c,v).call(this)||e,this.experimentStartDate=t,this.verdict=new Verdict.Verdict(s(this,a,m).call(this)),this.userToken=(null===(i=window)||void 0===i||null===(n=i.analytics)||void 0===n||null===(r=n.trekkie)||void 0===r||null===(h=r.defaultAttributes)||void 0===h?void 0:h.uniqToken)||window.getCookie&&window.getCookie("_shopify_y"),this.sessionToken=(null===(f=window)||void 0===f||null===(_=f.analytics)||void 0===_||null===(w=_.trekkie)||void 0===w||null===(g=w.defaultAttributes)||void 0===g?void 0:g.visitToken)||window.getCookie&&window.getCookie("_shopify_s")}variant(){return this.variantName||s(this,d,f).call(this)}}function m(){return"development"!==App.config.railsEnv?n.Monorail.createHttpProducer({production:!0}):n.Monorail.createLogProducer({debugMode:!0})}function f(){return this.variantName=s(this,u,w).call(this)||s(this,l,_).call(this)||r,this.variantName}function _(){const e={userToken:this.userToken,sessionToken:this.sessionToken},t=this.verdict.getVariantForShopifyOwnedPiiUserTokenSubject(this.experimentId,e,{useMD5:!0});var i,n,o,s,r,a;t&&(null===(i=window)||void 0===i||null===(n=i.analytics)||void 0===n||n.track("monorail://experiments_dotcom_assign/3.0",{uniqToken:this.userToken,visitToken:this.sessionToken,microSessionId:null===(o=window)||void 0===o||null===(s=o.analytics)||void 0===s||null===(r=s.trekkie)||void 0===r||null===(a=r.defaultAttributes)||void 0===a?void 0:a.microSessionId,page_url:window.location.href,source_app:"brochure2",experiment_handle:this.experimentId,variation_name:t,experiment_start_at:this.experimentStartDate}));return t}function v(){const e=s(this,p,g).call(this);if(e)return e.split("++")[0]}function w(){const e=s(this,p,g).call(this);if(e)return e.split("++")[1]}function g(){return window.getUrlParams&&window.getUrlParams("signup_type")||null}function y(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function b(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}var j=new WeakSet,E=new WeakSet,M=new WeakSet,C=new WeakSet;class k{constructor(){var e,t,i,n;y(this,C),y(this,M),y(this,E),y(this,j),this.$signupForm=document.querySelector(".signup--hidden .signup-form"),this.userToken=(null===(e=window)||void 0===e||null===(t=e.analytics)||void 0===t||null===(i=t.trekkie)||void 0===i||null===(n=i.defaultAttributes)||void 0===n?void 0:n.uniqToken)||window.getCookie&&window.getCookie("_shopify_y"),this.holdoutExperiment=new h("signup_code_red_holdout","2022-05-24T12:00:00-05:00");const o=(e,t)=>{const i=e.cloneNode(!0);i.originalElement=e,i.addEventListener("click",t),e.replaceWith(i)},s=this.handle0FClicked.bind(this);document.querySelectorAll(".js-open-signup").forEach((e=>{o(e,s)}));const r=this.handle1FClicked.bind(this);document.querySelectorAll(".marketing-input-button-pair__button").forEach((e=>{o(e,r)}))}handle1FClicked(e){if(!b(this,E,P).call(this))return;e.preventDefault();const t=e.target.form.querySelector('[name="signup[email]"]').value.trim();this.redirectToReorderedSignupFlow(t)}handle0FClicked(e){e.preventDefault(),b(this,E,P).call(this)?this.redirectToReorderedSignupFlow():b(this,j,S).call(this,e)}redirectToReorderedSignupFlow(e){var t,i,n,o;const s=new FormData(this.$signupForm);let r=[b(this,M,T).call(this),["_s",b(this,C,I).call(this,"_shopify_s")||null],["_p",(null===(t=window)||void 0===t||null===(i=t.trekkie)||void 0===i||null===(n=i.trekkie)||void 0===n||null===(o=n.defaultAttributes)||void 0===o?void 0:o.microSessionId)||null],...s.entries()].filter((([e,t])=>t&&!e.includes("signup["))).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`));e&&r.push(`login=${btoa(encodeURIComponent(e))}`),r=r.join("&"),location.search.length&&(r=`${location.search.slice(1)}&${r}`),window.location.href=`${App.config.signupStoreCreateURL}?${r}`}}function S(e){const t=e.target.originalElement;t&&t.click()}function P(){return!location.search.includes("cypress=true")&&(this.holdoutVariant=this.holdoutExperiment.variant(),this.holdoutVariant!==r)}function T(){return["affiliate",b(this,C,I).call(this,"source")||null]}function I(e){const t=new RegExp(`(?:^|; )${e}=([^;]*)(?:$|; )`),i=document.cookie.match(t);return i?decodeURIComponent(i[1]):""}function x(){var e,t;null===(e=window)||void 0===e||null===(t=e.analytics)||void 0===t||t.ready((()=>{new k}))}},"./app/javascript/modules/transparent-nav.js":function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i("../caches/app/node_modules/waypoints/src/entries/noframework.js"),o=i.n(n);function s(e){const t=document.querySelector(".marketing-nav");new o.a({element:e,offset:()=>-e.clientHeight+t.clientHeight,handler:e=>{"down"===e?t.classList.add("marketing-nav--solid"):t.classList.remove("marketing-nav--solid")}})}},"./app/javascript/modules/wistia-modal/container.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="wistia-modal">\n  <div class="wistia-modal__spinner"></div>\n  <div class="wistia-modal__embed-container">'+(null==(__t=embed)?"":__t)+"</div>\n</div>\n";return __p}},"./app/javascript/modules/wistia-modal/embed.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div id="'+(null==(__t=instanceId)?"":__t)+'" class="wistia-modal__embed wistia_embed wistia_async_'+(null==(__t=wistiaId)?"":__t)+'">&nbsp;</div>\n';return __p}},"./app/javascript/modules/wistia-modal/hidden-container.ejs":function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="visuallyhidden" aria-hidden="true">'+(null==(__t=embed)?"":__t)+"</div>\n";return __p}},"./app/javascript/modules/wistia-modal/index.js":function(e,t,i){"use strict";var n=i("../caches/app/node_modules/@shopify/marketing-assets/dist/javascripts/index.js"),o=i("./app/javascript/modules/wistia-modal/container.ejs"),s=i.n(o),r=i("./app/javascript/modules/wistia-modal/embed.ejs"),a=i.n(r),d=i("./app/javascript/modules/wistia-modal/hidden-container.ejs"),l=i.n(d);window._wq=window._wq||[];t.a=class{constructor(...e){const{$trigger:t,wistiaId:i,wistiaOptions:o}=this._resolveArgs(...e);Object.assign(this,{$trigger:t,wistiaId:i,wistiaOptions:o}),this._instanceId=Object(n.uniqueId)(),this._videoIsReadyToPlay=!1,this._loadWistiaHasRun=!1,this._parser=new DOMParser,this._$container=this._generateContainer(),["_modalTemplate","_loadWistia","_onVideoEmbedded","_onVideoPlayed","_onModalOpened"].forEach((e=>{this[e]=this[e].bind(this)})),window._wq.push(this._wistiaConfig),this._modal=this._initiateModal()}get _wistiaLoaded(){return this._loadWistiaHasRun||void 0!==window.Wistia}get _wistiaConfig(){return{id:this._instanceId,options:{autoPlay:!0,silentAutoPlay:!1,...this.wistiaOptions},onEmbedded:this._onVideoEmbedded}}_resolveArgs(e,t,i={}){const n={};if(!(e instanceof HTMLElement))throw new Error("WistiaModal wasn't passed an HTMLElement");if(n.$trigger=e,n.wistiaOptions=i,"object"==typeof t?n.wistiaOptions=t:"string"==typeof t&&(n.wistiaId=t),!n.wistiaId&&n.$trigger.dataset.wistiaId&&(n.wistiaId=n.$trigger.dataset.wistiaId),!n.wistiaId)throw new Error("WistiaModal couldn't resolve to a Wistia ID");return n}_initiateModal(){const e=new n.Modal(this.$trigger,this._modalTemplate,{modalStyleModifierClasses:{container:"modal-container--wistia modal-container--lowlight",closeIcon:"icon-modules-close-white"}});return e.on("opened",this._onModalOpened),e}_modalTemplate(){return this._$container}_generateContainer(){const e=a()({instanceId:this._instanceId,wistiaId:this.wistiaId}),t=s()({embed:e});return this._htmlStringToElement(t)}_generateHiddenContainer(){const e=a()({instanceId:`hidden_${this._instanceId}`,wistiaId:this.wistiaId}),t=l()({embed:e});return this._htmlStringToElement(t)}_htmlStringToElement(e){return this._parser.parseFromString(e,"text/html").body.firstChild}_onModalOpened(){this.video&&this.video.play(),this._wistiaLoaded||this._loadWistia()}_onVideoPlayed(){this._videoHasPlayed||(this._videoHasPlayed=!0,this._$container.classList.add("has-played"))}_onVideoEmbedded(e){this.video=e,this.video.bind("play",this._onVideoPlayed)}_loadWistia(){this._loadWistiaHasRun=!0,this._loadScript(`https://fast.wistia.com/embed/medias/${this.wistiaId}.jsonp`),this._loadScript("https://fast.wistia.com/assets/external/E-v1.js")}_loadScript(e){const t=document.createElement("script");t.type="text/javascript",document.body.appendChild(t),t.src=e}}}},[["./app/javascript/manifests/home.js","runtime","vendor","manifests/about~manifests/app-store-principles~manifests/apple-pay~manifests/augmented-reality~manif~08727ed4"]]]);
//# sourceMappingURL=home-3e807a26812d160fdbe8ef7b6219fb8a46f3dde541bcacd4f46e6e89f4f9e011.js.map